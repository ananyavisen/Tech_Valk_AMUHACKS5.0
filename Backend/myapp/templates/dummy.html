<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome back, Explorer!</title>
    <link
        href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL2/v0W9v79Fvb+/Rb2/v0W9v79Fvb+/Rb2/v0UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvb+/Rb2/v0UFi7D/BYuw/wWLsP8Fi7D/BYuw/wWLsP+9v79Fvb+/Rb2/v0UAAAAAAAAAAAAAAAAAAAAABYuw/wWLsP8Fi7D/EqLJ/xKiyf8Sosn/EqLJ/xKiyf8Sosn/BYuw/wWLsP8Fi7D/vb+/RQAAAAAAAAAABYuw/xKiyf8ftd7/H7Xe/x+13v8ftd7/H7Xe/x+13v8ftd7/EqLJ/xKiyf8Sosn/EqLJ/wWLsP+9v79Fvb+/RQWLsP9ax+b/H7Xe/1rH5v983Pf/Wsfm/3zc9/9ax+b/fNz3/1rH5v8Sosn/EqLJ/xKiyf8Fi7D/vb+/RQWLsP8ftd7/Wsfm/3zc9/8ImsL/CJrC/wiawv8ImsL/CJrC/wiawv8ImsL/fNz3/1rH5v983Pf/EqLJ/wWLsP8Fi7D/fNz3/wiawv8ImsL/AwMD/3yAgP/ByMn/wcjJ/7jo9f+46PX/uOj1/wiawv8ImsL/CJrC/1rH5v8Fi7D/BYuw/wiawv+46PX/uOj1/3l9ff8DAwP/Wl5e/8HIyf/ByMn/uOj1/7jo9f+46PX/o9fm/7jo9f8ImsL/BYuw/wWLsP+46PX/uOj1/7jo9f/O6/L/Wl5e/wMDA/9aXl7/eX19/8HIyf+46PX/o9fm/3yAgP+j1+b/zuvy/wWLsP8Fi7D/zuvy/7jo9f+j1+b/o9fm/6PX5v9aXl7/AwMD/wkJsP+3t+j/wcjJ/7jo9f+j1+b/uOj1/87r8v8Fi7D/BYuw/x2q0f/O6/L/o9fm/3yAgP+j1+b/wcjJ/wkJsP8JCbD/CQmw/7e36P/ByMn/uOj1/87r8v8ftd7/BYuw/wAAAAAFi7D/H7Xe/87r8v/O6/L/uOj1/7jo9f/O6/L/oKDZ/wkJsP8JCbD/t7fo/87r8v8ftd7/BYuw/wAAAAAAAAAABYuw/x2q0f8ftd7/H7Xe/87r8v/O6/L/zuvy/87r8v+goNn/CQmw/6Cg2f8ftd7/HarR/wWLsP8AAAAAAAAAAAAAAAAFi7D/BYuw/wWLsP8dqtH/H7Xe/x+13v8ftd7/H7Xe/x2q0f8JCbD/BYuw/wWLsP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYuw/wWLsP8Fi7D/BYuw/wWLsP8Fi7D/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAPgfAADAAwAAgAEAAIABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAAgAEAAMADAAD4HwAA//8AAA=="
        rel="icon" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            transition: opacity .45s ease;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000;
            min-height: 100vh;
            color: #f4e4c1;
        }

        .header {
            background: linear-gradient(to bottom, rgba(42, 24, 16, 0.95), rgba(26, 15, 8, 0.8));
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(139, 105, 20, 0.3);
        }

        .welcome-section h1 {
            color: #daa520;
            font-size: 32px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .welcome-section p {
            color: #a89968;
            font-size: 16px;
        }

        .level-badge {
            background: linear-gradient(145deg, rgba(40, 28, 16, 0.95), rgba(25, 18, 10, 0.95));
            border: 2px solid #8b6914;
            border-radius: 12px;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .level-badge-icon {
            font-size: 24px;
            color: #daa520;
        }

        .level-text {
            display: flex;
            flex-direction: column;
        }

        .level-label {
            font-size: 11px;
            color: #a89968;
            text-transform: uppercase;
        }

        .level-number {
            font-size: 18px;
            font-weight: 600;
            color: #f4e4c1;
        }

        .main-content {
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-areas:
                "confidence mentor"
                "quest resources"
                "reflection logs";
            gap: 30px;
        }

        .area-confidence {
            grid-area: confidence;
        }

        .area-mentor {
            grid-area: mentor;
        }

        .area-quest {
            grid-area: quest;
        }

        .area-resources {
            grid-area: resources;
        }

        .area-reflection {
            grid-area: reflection;
        }

        .area-logs {
            grid-area: logs;
        }


        .card {
            background: linear-gradient(145deg, rgba(42, 24, 16, 0.95), rgba(26, 15, 8, 0.95));
            border: 2px solid rgba(139, 105, 20, 0.4);
            border-radius: 16px;
            padding: 30px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            background: rgba(218, 165, 32, 0.15);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #daa520;
            font-size: 20px;
        }

        .card-title {
            flex: 1;
        }

        .card-title h3 {
            color: #daa520;
            font-size: 20px;
            margin-bottom: 4px;
        }

        .card-title p {
            color: #a89968;
            font-size: 13px;
        }

        /* Confidence Fuel Progress */
        .progress-container {
            margin-top: 25px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 10px;
        }

        .progress-percentage {
            font-size: 36px;
            font-weight: 600;
            color: #daa520;
        }

        .progress-encourage {
            font-size: 13px;
            color: #a89968;
            font-style: italic;
        }

        .progress-bar-wrapper {
            background: rgba(15, 10, 5, 0.6);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 20px;
            height: 40px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #d4941a, #daa520);
            border-radius: 20px;
            transition: width 0.5s ease;
            box-shadow: 0 0 20px rgba(218, 165, 32, 0.5);
            animation: pulseGlow 3s infinite;
        }

        .progress-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 5px;
        }

        .progress-marker {
            color: #6b5d42;
            font-size: 12px;
        }

        /* Quest Card */
        .quest-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .social-badge {
            background: rgba(218, 165, 32, 0.15);
            border: 1px solid #8b6914;
            color: #daa520;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .quest-content h2 {
            color: #f4e4c1;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .quest-content>p {
            color: #a89968;
            font-size: 15px;
            margin-bottom: 25px;
        }

        .challenge-box {
            background: rgba(15, 10, 5, 0.5);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .challenge-box h4 {
            color: #daa520;
            font-size: 16px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .challenge-box p {
            color: #d4c4a8;
            font-size: 15px;
        }

        .complete-btn {
            width: 100%;
            background: linear-gradient(135deg, #d4941a, #8b6914);
            color: #1a0f08;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .complete-btn:hover {
            background: linear-gradient(135deg, #e6a820, #9d7515);
            box-shadow: 0 8px 30px rgba(218, 165, 32, 0.5);
            transform: translateY(-2px);
        }

        .quest-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(139, 105, 20, 0.2);
        }

        .quest-tip {
            color: #a89968;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .skip-link {
            color: #daa520;
            font-size: 13px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
        }

        .skip-link:hover {
            color: #e6a820;
        }

        /* Mentor Card */
        .mentor-card {
            background: linear-gradient(135deg, #d4941a, #8b6914);
            color: #1a0f08;
            padding: 25px;
            margin-bottom: 20px;
        }

        .mentor-card h3 {
            font-size: 20px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mentor-card p {
            font-size: 14px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .mentor-link {
            color: #1a0f08;
            font-size: 14px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .mentor-link:hover {
            gap: 12px;
        }

        /* Resources Section */
        .resources-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .resource-item {
            background: rgba(15, 10, 5, 0.5);
            border: 1px solid rgba(139, 105, 20, 0.3);
            border-radius: 10px;
            padding: 14px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .resource-item:hover {
            background: rgba(139, 105, 20, 0.15);
            border-color: rgba(218, 165, 32, 0.5);
        }

        .resource-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .resource-icon {
            width: 36px;
            height: 36px;
            background: rgba(218, 165, 32, 0.15);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #daa520;
            font-size: 16px;
        }

        .resource-info h4 {
            color: #f4e4c1;
            font-size: 15px;
            margin-bottom: 3px;
        }

        .resource-info p {
            color: #6b5d42;
            font-size: 12px;
        }

        .view-all-btn {
            width: 100%;
            background: linear-gradient(135deg, #d4941a, #8b6914);
            color: #1a0f08;
            border: none;
            padding: 14px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .view-all-btn:hover {
            background: linear-gradient(135deg, #e6a820, #9d7515);
            transform: translateY(-2px);
        }

        /* Bottom Section */
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .mood-section h4 {
            color: #daa520;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .mood-section p {
            color: #a89968;
            font-size: 13px;
            margin-bottom: 20px;
        }

        .mood-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .mood-card {
            background: rgba(15, 10, 5, 0.5);
            border: 2px solid rgba(139, 105, 20, 0.3);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mood-card:hover {
            background: rgba(139, 105, 20, 0.15);
            border-color: rgba(218, 165, 32, 0.5);
        }

        .mood-card.selected {
            border-color: #daa520;
            background: rgba(218, 165, 32, 0.2);
        }

        .mood-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .mood-label {
            color: #f4e4c1;
            font-size: 15px;
            font-weight: 500;
        }

        /* Reflection Section */
        .reflection-section h4 {
            color: #daa520;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .reflection-section>p {
            color: #a89968;
            font-size: 13px;
            margin-bottom: 20px;
        }

        .reflection-textarea {
            width: 100%;
            background: rgba(15, 10, 5, 0.6);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 12px;
            padding: 18px;
            color: #f4e4c1;
            font-size: 14px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            resize: vertical;
            min-height: 150px;
            margin-bottom: 15px;
        }

        .reflection-textarea::placeholder {
            color: #6b5d42;
        }

        .reflection-textarea:focus {
            outline: none;
            border-color: #daa520;
            box-shadow: 0 0 15px rgba(218, 165, 32, 0.2);
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 0 10px rgba(218, 165, 32, .4);
            }

            50% {
                box-shadow: 0 0 25px rgba(218, 165, 32, .9);
            }

            100% {
                box-shadow: 0 0 10px rgba(218, 165, 32, .4);
            }
        }

        .resource-item {
            cursor: pointer;
        }


        .save-entry-btn {
            width: 100%;
            background: rgba(139, 105, 20, 0.3);
            color: #a89968;
            border: 1px solid rgba(139, 105, 20, 0.4);
            padding: 14px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .save-entry-btn:hover {
            background: rgba(139, 105, 20, 0.5);
            border-color: #daa520;
            color: #f4e4c1;
        }

        .character-count {
            text-align: center;
            color: #6b5d42;
            font-size: 12px;
            margin-top: 10px;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: linear-gradient(145deg, rgba(42, 24, 16, 0.98), rgba(26, 15, 8, 0.98));
            border: 2px solid rgba(139, 105, 20, 0.6);
            border-radius: 16px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 25px 30px;
            border-bottom: 1px solid rgba(139, 105, 20, 0.3);
        }

        .modal-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-header-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #d4941a, #8b6914);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a0f08;
            font-size: 20px;
        }

        .modal-header-text h3 {
            color: #daa520;
            font-size: 20px;
            margin-bottom: 3px;
        }

        .modal-header-text p {
            color: #a89968;
            font-size: 13px;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            background: rgba(139, 105, 20, 0.2);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #a89968;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(139, 105, 20, 0.4);
            color: #daa520;
        }

        .modal-content {
            padding: 30px;
            overflow: hidden;
            /* ‚≠ê FIX */
            flex: 1;
        }


        .chat-messages {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
            max-height: 400px;
            /* ‚≠ê ADD THIS */
            overflow-y: auto;
        }

        .message {
            display: flex;
            gap: 12px;
        }

        .message-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #d4941a, #8b6914);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a0f08;
            font-size: 16px;
            flex-shrink: 0;
        }

        .message-content {
            flex: 1;
            background: rgba(15, 10, 5, 0.5);
            border: 1px solid rgba(139, 105, 20, 0.3);
            border-radius: 12px;
            padding: 15px;
        }

        /* SETTINGS ICON (no box, right side) */
        .settings-wrapper {
            position: relative;
        }

        .settings-btn {
            font-size: 24px;
            cursor: pointer;
            color: #daa520;
            user-select: none;
        }

        /* no movement */
        .settings-btn:hover {
            color: #e6a820;
        }

        /* Dropdown */
        .settings-menu {
            position: absolute;
            right: 0;
            top: 35px;
            background: linear-gradient(145deg, rgba(42, 24, 16, .98), rgba(26, 15, 8, .98));
            border: 1px solid rgba(139, 105, 20, .6);
            border-radius: 12px;
            min-width: 220px;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 999;
        }

        .mood-btn.active {
            background: rgba(218, 165, 32, .25);
            border-color: #daa520;
        }

        .mood-btn.active {
            background: rgba(218, 165, 32, .25);
            border-color: #daa520;
            transform: translateY(-2px);
        }


        .settings-menu.active {
            display: flex;
        }

        .settings-item {
            padding: 14px 16px;
            color: #f4e4c1;
            cursor: pointer;
            transition: .25s;
        }

        .settings-item:hover {
            background: rgba(218, 165, 32, .15);
            color: #daa520;
        }



        .message-text {
            color: #d4c4a8;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 5px;
        }

        .message-time {
            color: #6b5d42;
            font-size: 11px;
        }

        .modal-input-area {
            padding: 20px 30px;
            border-top: 1px solid rgba(139, 105, 20, 0.3);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            background: rgba(15, 10, 5, 0.6);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 10px;
            padding: 12px 16px;
            color: #f4e4c1;
            font-size: 14px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .chat-input::placeholder {
            color: #6b5d42;
        }

        .chat-input:focus {
            outline: none;
            border-color: #daa520;
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #d4941a, #8b6914);
            border: none;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a0f08;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            background: linear-gradient(135deg, #e6a820, #9d7515);
            transform: scale(1.05);
        }

        .mood-btn {
            background: rgba(15, 10, 5, 0.5);
            border: 1px solid rgba(139, 105, 20, 0.4);
            border-radius: 10px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 18px;
            transition: 0.3s;
            flex-shrink: 0;
            /* ‚≠ê IMPORTANT */
        }


        .mood-btn span {
            display: none;
        }

        body.fade-out {
            opacity: 0;
        }

        .mood-btn:hover {
            background: rgba(218, 165, 32, 0.2);
            transform: translateY(-2px);
        }

        /* Scrollable emoji row */
        .mood-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;

            overflow-x: auto;
            /* horizontal scroll */
            overflow-y: hidden;
            /* prevent height growth */
            flex-wrap: nowrap;
            /* keep ONE LINE */
            max-width: 100%;
            /* do not stretch card */
        }


        .mood-toolbar::-webkit-scrollbar {
            height: 6px;
        }

        .mood-toolbar::-webkit-scrollbar-thumb {
            background: #daa520;
            border-radius: 10px;
        }

        /* Locked mood boxes */
        .moods-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }

        .mood-display-box {
            background: rgba(218, 165, 32, 0.15);
            border: 1px solid rgba(218, 165, 32, 0.5);
            border-radius: 10px;
            padding: 12px 15px;
            color: #f4e4c1;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            user-select: none;
            pointer-events: none;
        }

        /* ‚≠ê PREMIUM DAILY LOGS */

        .log-item {
            background: rgba(15, 10, 5, .5);
            border: 1px solid rgba(139, 105, 20, .3);
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: .35s ease;
            overflow: hidden;
        }

        .log-item:hover {
            border-color: #daa520;
            box-shadow: 0 0 15px rgba(218, 165, 32, .35);
            transform: translateY(-2px);
        }

        /* hidden expandable text */
        .log-full {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all .45s ease;
            color: #d4c4a8;
            margin-top: 8px;
        }

        .log-item.active .log-full {
            max-height: 200px;
            opacity: 1;
        }

        /* slide-in animation */
        @keyframes slideInLog {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="welcome-section">
            <!-- Settings Menu -->
            <!-- Settings Icon -->



            <h1>
                <span>üß≠</span>
                Welcome
            </h1>
            <p>Continue your journey of growth and confidence</p>
        </div>
        <div class="settings-wrapper">
            <span class="settings-btn" onclick="toggleSettings()">‚öôÔ∏è</span>

            <div class="settings-menu" id="settingsMenu">
                <div class="settings-item" onclick="logoutUser()">üö™ Log out</div>
                <div class="settings-item" onclick="changePassword()">üîê Change Password</div>
            </div>
        </div>

    </div>

    <div class="main-content">
        <div class="dashboard-grid">
            <!-- Left Column -->

            <!-- Confidence Fuel -->
            <div class="card area-confidence">
                <div class="card-header">

                    <div class="card-title">
                        <h3>Confidence Fuel</h3>
                        <p>Your progress indicator</p>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-header">
                        <div class="progress-percentage">42.5%</div>
                        <div class="progress-encourage">üèπ Keep going!</div>
                    </div>
                    <div class="progress-bar-wrapper">
                        <div class="progress-bar-fill" style="width: 42.5%;"></div>
                    </div>
                    <div class="progress-markers">
                        <span class="progress-marker">0</span>
                        <span class="progress-marker">25</span>
                        <span class="progress-marker">50</span>
                        <span class="progress-marker">75</span>
                        <span class="progress-marker">100</span>
                    </div>
                </div>
            </div>

            <!-- Today's Quest -->
            <div class="card area-quest" style="margin-top: 30px;">
                <div class="quest-card-header">
                    <div class="card-header" style="margin-bottom: 0;">
                        <div class="card-title">
                            <h3>Today's Quest</h3>
                            <p>Your personalized challenge</p>
                        </div>
                    </div>
                    <div class="social-badge">
                        <span>ü¶ú</span>
                        <span>Social</span>
                    </div>
                </div>

                <div class="quest-content">
                    <h2>Give a Genuine Compliment</h2>
                    <p>Compliment someone on their work or personality</p>

                    <div class="challenge-box">
                        <h4>ü™ô The Challenge:</h4>
                        <p>Make someone's day by acknowledging their strengths</p>
                    </div>

                    <button class="complete-btn">
                        <span>‚úì</span>
                        Mark as Complete
                    </button>

                    <div class="quest-footer">
                        <div class="quest-tip">
                            üí° Tip: Complete quests to build your confidence fuel
                        </div>
                        <a class="skip-link">
                            <span>‚Üª</span>
                            Skip Quest
                        </a>
                    </div>
                </div>
            </div>

            <!-- Bottom Section -->


            <!-- ‚≠ê LEFT CARD ‚Äî Daily Reflection -->

            <div class="card area-reflection">
                <div class="card-header">
                    <div class="card-icon">ü™î</div>
                    <div class="card-title">
                        <h3>Daily Reflection</h3>
                        <p>Select moods and journal your thoughts</p>
                    </div>

                </div>



                <!-- Mood Emoji Selector -->
                <div class="mood-toolbar" id="moodToolbar">
                    <div class="mood-btn" onclick="insertMood(this)">üòú<span>Playful Energy</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üòÅ<span>Joyful Mood</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üòé<span>Confident Aura</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üòµ<span>Overwhelmed State</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">ü§ù<span>Supportive Presence</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üåô<span>Quiet Reserve</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üåÄ<span>Tense Atmosphere</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üîç<span>Curious Mind</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üèÜ<span>Competitive Drive</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üìù<span>Focused Study</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üí°<span>Creative Spark</span></div>
                    <div class="mood-btn" onclick="insertMood(this)">üôè<span>Grateful Heart</span></div>

                </div>

                <div class="moods-container" id="moodsContainer"></div>

                <!-- Reflection Textarea -->
                <textarea class="reflection-textarea" id="reflectionBox"
                    placeholder="Write about your day... Click emojis above to insert moods into your journal."
                    oninput="updateCharCount(this)"></textarea>

                <button class="save-entry-btn">
                    <span>üíæ</span>
                    Save Daily Entry
                </button>

                <div class="character-count">0 characters</div>
            </div>

            <div class="card area-logs">
                <div class="card-header">
                    <div class="card-icon">üìú</div>
                    <div class="card-title">
                        <h3>Daily Logs</h3>
                        <p>Your past reflections</p>
                    </div>
                </div>

                <div id="logsList" style="display:flex;flex-direction:column;gap:10px;"></div>

                <button id="toggleLogsBtn" class="view-all-btn" onclick="toggleLogs()">
                    View All Logs ‚Üí
                </button>

            </div>


            <!-- Right Column -->

            <!-- Talk to Mentor -->
            <div class="card mentor-card area-mentor">
                <div class="card-icon" style="background: rgba(26, 15, 8, 0.4); margin-bottom: 15px;">üí¨</div>
                <h3>Talk to Mentor </h3>
                <p>Get personalized guidance and support from your AI mentor</p>
                <a class="mentor-link" onclick="openMentorModal()">
                    Click to chat
                    <span>‚Üí</span>
                </a>
            </div>

            <!-- Resources -->
            <div class="card area-resources" style="margin-top: 20px;">
                <div class="card-header">
                    <div class="card-icon">üó∫Ô∏è</div>
                    <div class="card-title">
                        <h3>Resources</h3>
                        <p>Learning materials</p>
                    </div>
                </div>

                <div class="resources-list">
                    <div class="resource-item"onclick="openResourcesModal('notes') >
                        <div class="resource-left">
                            <div class="resource-icon">üìÑ</div>
                            <div class="resource-info">
                                <h4>Study Notes</h4>
                            </div>
                        </div>
                        <span style="color: #daa520;">‚Üí</span>
                    </div>

                    <div class="resource-item" onclick="openResourcesModal('videos')">
                        <div class="resource-left">
                            <div class="resource-icon">üé•</div>
                            <div class="resource-info">
                                <h4>Video Lectures</h4>
                                <p>8 items</p>
                            </div>
                            <span style="color: #daa520;">‚Üí</span>
                        </div>
                        </div>

                    <div class="resource-item"onclick="openResourcesModal('articles')" >
                        <div class="resource-left">
                            <div class="resource-icon">‚¨á</div>
                            <div class="resource-info">
                                <h4>Articles</h4>
                                <p>5 items</p>
                            </div>
                        </div>
                        <span style="color: #daa520;">‚Üí</span>
                    </div>
                </div>

                <button class="view-all-btn">
                    View All
                    <span>‚Üí</span>
                </button>
            </div>

        </div>
    </div>

    <!-- AI Mentor Modal -->
    <div class="modal-overlay" id="mentorModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-header-left">
                    <div class="modal-header-icon">ü§ñ</div>
                    <div class="modal-header-text">
                        <h3>AI Mentor</h3>
                        <p>Always here to guide you</p>
                    </div>
                </div>
                <div class="modal-close" onclick="closeMentorModal()">‚úï</div>
            </div>
            <div class="modal-content">
                <div class="chat-messages" id="chatMessages">
                    <div class="message">
                        <div class="message-icon">ü§ñ</div>
                        <div class="message-content">
                            <div class="message-text">
                                Hello! I'm your AI mentor. I'm here to guide you through your journey of growth and
                                confidence. How can I support you today?
                            </div>
                            <div class="message-time">09:41</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-input-area">
                <div class="chat-input-wrapper">
                    <input type="text" class="chat-input" placeholder="Type your message..." id="chatInput"
                        onkeypress="handleChatEnter(event)">
                    <button class="send-btn" onclick="sendMessage()">
                        <span>‚û§</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
 <!--resource modal-->
    <div class="modal-overlay" id="resourcesModal">
    <div class="modal" style="max-width:800px;">
        <div class="modal-header">
            <div class="modal-header-left">
                <div class="modal-header-icon">üó∫Ô∏è</div>
                <div class="modal-header-text">
                    <h3 id="resourceModalTitle">Resources</h3>
                </div>
            </div>
            <div class="modal-close" onclick="closeResourcesModal()">‚úï</div>
        </div>

        <div class="modal-content">
            <div id="resourceContent">
                <!-- Dynamic content will appear here -->
            </div>
        </div>
    </div>
</div>


    <script>
        let selectedMoods = [];
        let showAllLogs = false;


        function toggleMood(card) {
            if (card.classList.contains('selected')) {
                card.classList.remove('selected');
                selectedMoods = selectedMoods.filter(m => m !== card);
            } else {
                if (selectedMoods.length < 2) {
                    card.classList.add('selected');
                    selectedMoods.push(card);
                } else {
                    selectedMoods[0].classList.remove('selected');
                    selectedMoods.shift();
                    card.classList.add('selected');
                    selectedMoods.push(card);
                }
            }
        }

        function updateCharCount(textarea) {
            const count = textarea.value.length;
            const countElement = textarea.parentElement.querySelector('.character-count');
            countElement.textContent = `${count} characters`;
        }

        function openResourcePage(page) {

            /* smooth fade like logout */
            document.body.classList.add("fade-out");

            setTimeout(() => {
                window.location.href = page;
            }, 450);
        }
        function openResourcesModal(type) {

            document.getElementById("resourcesModal").classList.add("active");

            const content = document.getElementById("resourceContent");
            const title = document.getElementById("resourceModalTitle");

            if (type === "videos") {
                title.innerText = "üé• Video Lectures";
                content.innerHTML = `
                    {% for resource in videos %}
                        <div class="resource-item">
                            <h4>{{ resource.title }}</h4>
                            <a href="{{ resource.link }}" target="_blank">Open ‚Üí</a>
                        </div>
                    {% empty %}
                        <p>No videos available.</p>
                    {% endfor %}
                `;
            }

            if (type === "notes") {
                title.innerText = "üìÑ Study Notes";
                content.innerHTML = `
                    {% for resource in notes %}
                        <div class="resource-item">
                            <h4>{{ resource.title }}</h4>
                            {% if resource.file %}
                                <a href="{{ resource.file.url }}" target="_blank">Download ‚Üí</a>
                            {% endif %}
                        </div>
                    {% empty %}
                        <p>No notes available.</p>
                    {% endfor %}
                `;
            }

            if (type === "articles") {
                title.innerText = "üìö Articles";
                content.innerHTML = `
                    {% for resource in articles %}
                        <div class="resource-item">
                            <h4>{{ resource.title }}</h4>
                            <a href="{{ resource.link }}" target="_blank">Read ‚Üí</a>
                        </div>
                    {% empty %}
                        <p>No articles available.</p>
                    {% endfor %}
                `;
            }
        }

function closeResourcesModal() {
    document.getElementById("resourcesModal").classList.remove("active");
}


        function openMentorModal() {
            document.getElementById('mentorModal').classList.add('active');
        }

        function closeMentorModal() {
            document.getElementById('mentorModal').classList.remove('active');
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (message) {
                const chatMessages = document.getElementById('chatMessages');

                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'message';
                userMsg.innerHTML = `
                    <div class="message-icon">üë§</div>
                    <div class="message-content">
                        <div class="message-text">${message}</div>
                        <div class="message-time">${new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}</div>
                    </div>
                `;
                chatMessages.appendChild(userMsg);

                input.value = '';
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Simulate AI response
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'message';
                    aiMsg.innerHTML = `
                        <div class="message-icon">ü§ñ</div>
                        <div class="message-content">
                            <div class="message-text">Thank you for sharing. I'm here to help you navigate this. Would you like to talk more about it?</div>
                            <div class="message-time">${new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}</div>
                        </div>
                    `;
                    chatMessages.appendChild(aiMsg);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }

        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Close modal on outside click
        document.getElementById('mentorModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeMentorModal();
            }
        });

        /* ‚≠ê Close Resources Modal on outside click */
        document.getElementById('resourcesModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeResourcesModal();
            }
        });


        function openResourcesModal() {
            document.getElementById("resourcesModal").classList.add("active");
        }

        function closeResourcesModal() {
            document.getElementById("resourcesModal").classList.remove("active");
        }

        /* ‚≠ê Inline tab navigation */
        function showResource(type) {

            const content = document.getElementById("resourceContent");

            if (type === "notes") {
                content.innerHTML = `
            <h4 style="color:#daa520;">üìÑ Study Notes</h4>
            <p>Add your PDFs, notes, or links here.</p>
        `;
            }

            if (type === "videos") {
                content.innerHTML = `
            <h4 style="color:#daa520;">üé• Video Lectures</h4>
            <p>Embed YouTube videos or lecture links here.</p>
        `;
            }

            if (type === "articles") {
                content.innerHTML = `
            <h4 style="color:#daa520;">‚¨á Articles</h4>
            <p>Add blog posts, reading materials, or downloads.</p>
        `;
            }
        }


        function insertMood(el) {

            const emoji = el.childNodes[0].textContent;
            const text = el.querySelector('span').textContent;
            const moodId = emoji + " " + text;

            const moodsContainer = document.getElementById('moodsContainer');

            // check if already selected
            const existing = Array.from(moodsContainer.children)
                .find(box => box.dataset.id === moodId);

            // ‚≠ê TOGGLE OFF (remove)
            if (existing) {
                existing.remove();
                el.classList.remove("active");
                return;
            }

            // ‚≠ê LIMIT TO ONLY 3 EMOJIS
            if (moodsContainer.children.length >= 3) {
                return; // stop adding more
            }

            // ‚≠ê ADD NEW MOOD
            const moodBox = document.createElement('div');
            moodBox.className = 'mood-display-box';
            moodBox.dataset.id = moodId;
            moodBox.textContent = moodId;

            moodsContainer.appendChild(moodBox);

            // highlight emoji button
            el.classList.add("active");
        }





        // Save reflection to browser
        // ‚≠ê Save MULTIPLE Daily Logs
        document.querySelector('.save-entry-btn').addEventListener('click', () => {

            const text = document.getElementById('reflectionBox').value.trim();
            if (!text) return;

            // collect selected moods
            const moods = Array.from(document.querySelectorAll(".mood-display-box"))
                .map(m => m.textContent);

            // get existing logs
            const logs = JSON.parse(localStorage.getItem("dailyLogs") || "[]");

            // add new log at top
            logs.unshift({
                text: text,
                moods: moods,
                date: new Date().toLocaleString()
            });

            // save back
            localStorage.setItem("dailyLogs", JSON.stringify(logs));

            renderLogs();

            /* ‚≠ê RESET REFLECTION PANEL AFTER SAVE */

            // clear textarea
            document.getElementById("reflectionBox").value = "";
            updateCharCount(document.getElementById("reflectionBox"));

            // clear locked mood boxes
            document.getElementById("moodsContainer").innerHTML = "";

            // remove active state from emojis
            document.querySelectorAll(".mood-btn.active")
                .forEach(btn => btn.classList.remove("active"));

            alert("Entry Saved!");

        });

        function renderLogs() {

            const logsList = document.getElementById("logsList");
            if (!logsList) return;

            logsList.innerHTML = "";

            const logs = JSON.parse(localStorage.getItem("dailyLogs") || "[]");
            const visibleLogs = showAllLogs ? logs : logs.slice(0, 3);


            visibleLogs.forEach((log, index) => {

                const item = document.createElement("div");
                item.className = "log-item";
                item.style.animation = "slideInLog .35s ease";

                item.innerHTML = `
            <div style="color:#daa520;font-size:12px;margin-bottom:6px;">
                ${log.date}
            </div>

            <div style="color:#f4e4c1;font-size:14px;display:flex;flex-direction:column;gap:4px;">
    ${log.moods.map(m => `<div>${m}</div>`).join("")}
</div>


            <div class="log-full">
                ${log.text}
            </div>
        `;

                /* ‚≠ê CLICK TO EXPAND */
                item.onclick = () => {
                    item.classList.toggle("active");
                }


                logsList.appendChild(item);
            });

            /* ‚≠ê AUTO SCROLL TO NEWEST */
            logsList.scrollTop = 0;
        }




        // Load saved reflection when page opens
        window.onload = () => {

            renderLogs(); // ‚≠ê load history panel

            const saved = localStorage.getItem('dailyReflection');
            if (saved) {
                document.getElementById('reflectionBox').value = saved;
                updateCharCount(document.getElementById('reflectionBox'));
            }
        };


        document.addEventListener('keydown', e => {
            if (e.key === "Escape") closeMentorModal();
        });

        function toggleSettings() {
            document.getElementById("settingsMenu").classList.toggle("active");
        }


        function logoutUser() {

            const menu = document.getElementById("settingsMenu");
            menu.classList.remove("active"); // close dropdown

            /* ‚≠ê DESTROY SESSION */
            localStorage.clear();
            sessionStorage.clear();

            /* ‚≠ê SMOOTH FADE OUT */
            document.body.classList.add("fade-out");

            /* ‚≠ê REDIRECT AFTER ANIMATION */
            setTimeout(() => {
                window.location.href = "login.html"; // change if needed
            }, 450);
        }



        function changePassword() {
            alert("Open change password screen");
            // later open modal or redirect
        }

        /* Close settings if clicked outside */
        document.addEventListener("click", function (e) {
            const wrapper = document.querySelector(".settings-wrapper");
            if (!wrapper.contains(e.target)) {
                document.getElementById("settingsMenu").classList.remove("active");
            }
        });
        function toggleLogs() {

            showAllLogs = !showAllLogs;

            const btn = document.getElementById("toggleLogsBtn");

            btn.textContent = showAllLogs
                ? "Show Less Logs ‚Üë"
                : "View All Logs ‚Üí";

            renderLogs();
        }

    </script>
</body>

</html>